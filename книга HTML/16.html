<body>
<link rel="stylesheet" type="text/css"href="style.css">
<h1 align=center> Шестнадцатеричный редактор </h1><br>
<time>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;То, что мы сделаем сейчас, Это будет ваша первая программа в машинных кодах.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ассемблер – это язык низкого уровня, но все ж таки язык. А пробовали вы написать программу в машинных кодах? Сейчас попробуем.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Написать программу можно и не имея никаких ассемблеров-компиляторов и прочих инструментов – с помощью какого-либо шестнадцатеричного редактора (или hex-редактор или hex editor)<br>
<br>
<prim> ВНИМАНИЕ! </prim><br>
Написание программ с использованием шестнадцатеричного редактора – это не только утомительно, но и НЕБЕЗОПАСНО ДЛЯ КОМПЬЮТЕРА! Так как ошибки в процессе создания программы неизбежны. Но если TASM со товарищи проверяют текст программы на наличие ошибок, то в шестнадцатеричном редакторе проверяющий только один – вы сами. Поэтому, если ошибка останется незамеченной, файл все равно будет создан. И если вы попытаетесь этот «неправильный» файл запустить, то в лучшем случае получите зависание компьютера, а в худшем этот файл может такое натворить – вирусы отдыхают.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;И все-таки разбор программ в шестнадцатеричном редакторе весьма полезен. Особенно тем, кто собирается работать с электроникой – ведь микропроцессоры не понимают ни Паскаль ни С++. Хотя и существуют специальные устройства и программы, которые им эти языки «объясняют».<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Для начала вам потребуется шестнадцатеричный редактор. Вы можете использовать любой, имеющийся у вас под рукой. Однако я буду использовать уже упоминавшийся McAfee FileInsight v2.1. Этот hex-редактор можно скачать бесплатно. Все описанные ниже действия справедливы именно для этого редактора.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Итак, шестнадцатеричный редактор у вас установлен. Запускаем его. Щелкаем по кнопке ОТКРЫТЬ, находим один из созданных нами СОМ-файлов, например, debug_1.com, и загружаем его в редактор.<br>
<br>
Когда файл загружен, в редакторе вы увидите следующее (см. также рис. 1.12):<br>
<br>
<pre><i> 00000000   B4  02  B2  41  CD  21  CD  20	     ...A.!.</i></pre><br>
<br>
<img src="фото для книги\1.12.png" alt="изображение не найденo"><br>
<pic>Рис. 1.12. Файл DEBUG_1.COM в шестнадцатеричном редакторе.</pic><br> 
<br>
<prim>ПРИМЕЧАНИЕ </prim><br>
Если в вашем случае вы видите другую картину, то либо вы открыли другой файл, либо просматриваете его в текстовом режиме. В последнем случае нажмите кнопку View as Hex на панели инструментов (см. рис. 1.12).<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;С нулями все понятно – это первая ячейка памяти, в которую записано число В4. Это число потом будет записано в адрес 0100h (для СОМ-файла). В строке должно быть 16 чисел, каждое из которых состоит из двух цифр. Числа записываются в шестнадцатеричной форме. Но у нас программа маленькая – всего 8 байт, поэтому и чисел у нас 8.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ну а что же такое B4? Это команда – «Ввести значение в регистр АН». Значение вводим: 02 (следующее в строке число).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Идем дальше. Команда B2 – «ввести значение в регистр DL». Значение :41. А теперь вспомним, что мы увидели в программе Debug, введя команду t:<br>
<br>
<pre><i>
AX=0200  BX=0000  CX=0000  DX=0000  SP=FFEE  BP=0000  SI=0000  DI=0000
DS=0B72  ES=0B72  SS=0B72  CS=0B72  IP=0102  NV UP EI PL NZ NA PO NC
0B72:0102 B241		MOV	DL,41
</pre></i>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Видите в последней строке B241. Это код команды MOV DL, 41.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Идем дальше. CD – код вызова прерывания. Итак, CD 21 – это код команды INT 21. Аналогично для CD 20.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Осталось разобраться с загадочными символами в конце строки. А здесь все просто: каждая цифра в числе соответствует коду символа таблицы ASCII, и эти символы выводятся в той же последовательности, что и шестнадцатеричные цифры. В этом тексте вместо некоторых символов стоят точки (.) – это просто коды не буквенных символов.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ну а теперь напишем и создадим нашу изученную вдоль и поперек программу без ассемблеров и компоновщиков. Открываем редактор, создаём новый файл (для этого щёлкаем кнопку NEW на панели инструментов), затем щёлкаем кнопку View as Hex и вводим данные:<br>
<br>
<pre><i> 00000000   B4  02  B2  41  CD  21  CD  20</i></pre><br>
&nbsp;&nbsp;&nbsp;&nbsp;Сохраняем файл под именем, например, hex_1.com. Все. Программа готова. Теперь ее можно запустить и в очередной раз полюбоваться своим творением. Результат будет тот же, что и во всех предыдущих случаях.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;И ещё один приятный сюрприз от редактора McAfee FileInsight v2.1 – он имеет свой дизассемблер! Если вы загрузите в редактор исполняемый файл, а в левом нижнем углу выберите вкладку DISASSEMBLY, то сможете посмотреть исходный код загруженной программы на языке ассемблера (рис. 1.12).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Именно с помощью шестнадцатеричных редакторов и дизассемблеров хакеры ломают программы. Находят в коде нужные им места и исправляют их в соответствии со своими хакерскими капризами.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Конечно, мы не хакеры. Ломать программы не будем. Однако дизассемблеры и шестнадцатеричные редакторы весьма полезны и законопослушными программистам. Они используются, например, для отладки, для изучения машинных кодов и т.п. Например, вы знаете, как выглядит команда на языке ассемблера, но хотите узнать её машинный код. Если нет документации, то выход только один – шестнадцатеричный редактор и/или дизассемблер. Следует, однако, учесть, что не все команды умещаются в машинный код из двух чисел. Некоторые команды довольно сложные и требуют большего количества чисел для представления в машинных кодах.<br>
<br>
<button onclick="javascript:window.location='BAT-files.html'"; type="button" name "button1" style="wight:80px;height:50px">
	<img src="фото для книги\back.jpg" alt="назад" width="40" height="40">
</button>

<button onclick="javascript:window.location='16.html'"; type="button" name "button1" style="wight:80px;height:50px">
	<img src="фото для книги\up.jpg" alt="вверх" width="40" height="40">
</button>

<button onclick="javascript:window.location='test.html'"; type="button" name "button2" style="wight:80px;height:50px; float: right;">
	<img src="фото для книги\next.jpg" alt="вперед" width="40" height="40"> 
</button><br><br> 
</time>
</body>
